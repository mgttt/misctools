if("undefined"==typeof console)var console={log:function(){},time:function(){},timeEnd:function(){}};!function(a){"undefined"==typeof a.prototype.trim&&(a.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}(String),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){console.log(a,b);var c=this.length>>>0,b=0;for(arguments.length>1&&(b=Number(arguments[1])),b=0>b?Math.ceil(b):Math.floor(b),0>b&&(b+=c);c>b;b++)if(b in this&&this[b]===a)return b;return-1}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){var b=[];if("object"==typeof a&&null!==a)for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),String.prototype.positiveIntegerHash=function(){var a,b,c,d=0;if(0==this.length)return d;for(a=0,c=this.length;c>a;a++)b=this.charCodeAt(a),d=(d<<5)-d+b,d|=0;return Math.abs(d)},function(){function a(){if(!d.isReady){try{document.documentElement.doScroll("left")}catch(b){return void setTimeout(a,1)}d.ready()}}var b,c,d=function(a,b){},e=(window.an_jQuery,window.$an,!1),f=[];d.fn={ready:function(a){return d.bindReady(),d.isReady?a.call(document,d):f&&f.push(a),this}},d.isReady=!1,d.ready=function(){if(!d.isReady){if(!document.body)return setTimeout(d.ready,13);if(d.isReady=!0,f){for(var a,b=0;a=f[b++];)a.call(document,d);f=null}d.fn.triggerHandler&&d(document).triggerHandler("ready")}},d.bindReady=function(){if(!e){if(e=!0,"complete"===document.readyState)return d.ready();if(document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",d.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",c),window.attachEvent("onload",d.ready);var b=!1;try{b=null==window.frameElement}catch(f){}document.documentElement.doScroll&&b&&a()}}},b=d(document),document.addEventListener?c=function(){document.removeEventListener("DOMContentLoaded",c,!1),d.ready()}:document.attachEvent&&(c=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",c),d.ready())}),window.an_jQuery=window.$an=d}(),function(){function a(){var a=new b,c=window,e={percentObscured:0,percentViewable:0,acceptedViewablePercentage:50,viewabiltyAchieved:!1,inView:!1,duration:0};this.DEBUG_MODE=!1,this.checkViewability=function(a,b,g,h){if(arguments.length>2&&(c=h),!d.isFriendlyIframe())return void console.log("AN: Unable to track viewability. Unfriendly Iframe Error");var i=0;setInterval(function(){f(a)?(i++,e.inView||(e.inView=!0,g(!0))):(i=0,e.inView&&(e.inView=!1,g(!1))),e.duration=100*i,i>=9&&(e.viewabiltyAchieved||(e.viewabiltyAchieved=!0,b()))},100)};var f=function(a){var b=a.getBoundingClientRect(),c=b.width*b.height;return c>=242500&&(e.acceptedViewablePercentage=30),h(a)===!0?!1:i(a)===!0?!1:(g(a),e.percentViewable&&e.percentViewable<e.acceptedViewablePercentage?!1:!!e.percentViewable)},g=function(b){e.percentObscured=e.percentObscured||0;var d=a.getViewabilityState(b,c);return d.error||(e.percentViewable=d.percentViewable-e.percentObscured),d},h=function(a){if(window.getComputedStyle){var b=c.getComputedStyle(a,null),d=b.getPropertyValue("visibility"),e=b.getPropertyValue("display");if("hidden"==d||"none"==e)return!0}else if("hidden"==a.style.visibility||"none"==a.style.display)return!0;return!1},i=function(a){var b=a.getBoundingClientRect(),c=12,d=b.left+c,f=b.right-c,g=b.top+c,h=b.bottom-c,i=Math.floor(b.left+b.width/2),k=Math.floor(b.top+b.height/2),l=[{x:d,y:g},{x:i,y:g},{x:f,y:g},{x:d,y:k},{x:i,y:k},{x:f,y:k},{x:d,y:h},{x:i,y:h},{x:f,y:h}];for(var m in l)if(l[m]&&l[m].x>=0&&l[m].y>=0&&(elem=document.elementFromPoint(l[m].x,l[m].y),null!=elem&&elem!=a&&!a.contains(elem)&&(overlappingArea=j(b,elem.getBoundingClientRect()),overlappingArea>0&&(e.percentObscured=100*j(b,elem.getBoundingClientRect()),e.percentObscured>e.acceptedViewablePercentage))))return e.percentViewable=100-e.percentObscured,!0;return!1},j=function(a,b){var c=a.width*a.height,d=Math.max(0,Math.min(a.right,b.right)-Math.max(a.left,b.left)),e=Math.max(0,Math.min(a.bottom,b.bottom)-Math.max(a.top,b.top));return d*e/c}}function b(){this.getViewabilityState=function(d,e){var f,g=a();if(g.area==1/0)return{error:"Failed to determine viewport"};var h=d.getBoundingClientRect(),i=h.width*h.height,j={};if(j.width=null,j.height=null,g.area/i<.5)f=Math.floor(100*g.area/i);else try{window.top.document;j=b(window.top),visibleAssetSize=c(d,e),visibleAssetSize.bottom>j.height&&(visibleAssetSize.height-=visibleAssetSize.bottom-j.height),visibleAssetSize.top<0&&(visibleAssetSize.height+=visibleAssetSize.top),visibleAssetSize.left<0&&(visibleAssetSize.width+=visibleAssetSize.left),visibleAssetSize.right>j.width&&(visibleAssetSize.width-=visibleAssetSize.right-j.width),f=Math.floor(100*(visibleAssetSize.width*visibleAssetSize.height)/i)}catch(k){}return{clientWidth:j.width,clientHeight:j.height,objTop:h.top,objBottom:h.bottom,objLeft:h.left,objRight:h.right,percentViewable:f}};var a=function(){for(var a=b(window),c=a.area,d=window;d!=window.top;){try{window.top.document,d.parent.document.location;d=d.parent}catch(e){break}viewPortSize=b(d),viewPortSize.area<c&&(c=viewPortSize.area,a=viewPortSize)}return a},b=function(a){var b={width:1/0,height:1/0,area:1/0};return!isNaN(a.document.body.clientWidth)&&a.document.body.clientWidth>0&&(b.width=a.document.body.clientWidth),!isNaN(a.document.body.clientHeight)&&a.document.body.clientHeight>0&&(b.height=a.document.body.clientHeight),a.document.documentElement&&a.document.documentElement.clientWidth&&!isNaN(a.document.documentElement.clientWidth)&&(b.width=a.document.documentElement.clientWidth),a.document.documentElement&&a.document.documentElement.clientHeight&&!isNaN(a.document.documentElement.clientHeight)&&(b.height=a.document.documentElement.clientHeight),a.innerWidth&&!isNaN(a.innerWidth)&&(b.width=Math.min(b.width,a.innerWidth)),a.innerHeight&&!isNaN(a.innerHeight)&&(b.height=Math.min(b.height,a.innerHeight)),b.area=b.height*b.width,b},c=function(a,b){var e=b,f=b.parent,g={width:0,height:0,left:0,right:0,top:0,bottom:0};if(a){var h=d(a,b);if(h.width=h.right-h.left,h.height=h.bottom-h.top,g=h,e!=f){var i=c(e.frameElement,f);i.bottom<g.bottom&&(i.bottom<g.top&&(g.top=i.bottom),g.bottom=i.bottom),i.right<g.right&&(i.right<g.left&&(g.left=i.right),g.right=i.right),g.width=g.right-g.left,g.height=g.bottom-g.top}}return g},d=function(a,b){var c=b,e=b.parent,f={left:0,right:0,top:0,bottom:0};if(a){var g=a.getBoundingClientRect();c!=e&&(f=d(c.frameElement,e)),f={left:g.left+f.left,right:g.right+f.left,top:g.top+f.top,bottom:g.bottom+f.top}}return f}}function c(a){k.push(a),j.push(new i(k[k.length-1])),j[j.length-1].load()}var d=new function(){"use strict";var a="",b=null,c=null,d=null,e=null,f=null;this.isFriendlyIframe=function(){if(c)return c;var a=window,b=!1;try{window.top!=window.self&&(a.top.document?a=a.top:b=!0)}catch(d){b=!0}return c=!b},this.activeWindow=function(){if(d)return d;d=window;try{if(window.top!=window.self){d=window.top;var a=d.document;a||(d=window)}else d=window}catch(b){d=window}return d},this.activeWindowDocument=function(){var a,b=this.activeWindow();try{a=b.document,a||(a=window.document)}catch(c){a=window.document}return a},this.isPreviewGenerator=function(){if(this.isPreview()){document.domain="adsnative.com";try{return!(!window.top.document||window.top==window.self||-1==window.top.document.location.href.indexOf("adsnative.com/preview/"))}catch(a){return!1}}return!1},this.isPreview=function(){var a=this.getPageHostName();return-1!=a.indexOf("adsnative.com")},this.getLocationHostname=function(a){var b=document.createElement("a");return b.href=a,b.hostname},this.getPageHostName=function(b){return arguments.length>0&&"undefined"!==b&&b?this.getLocationHostname(b):a?a:a=this.activeWindowDocument().location.host},this.isPreviewMode=function(){var a=this.getURLParams();return!(!this.isPreview()&&!a.hasOwnProperty("adsnative_preview"))},this.isProfilingMode=function(){var a=this.getURLParams();return!!(this.isPreviewMode()&&a.hasOwnProperty("profile")&&a.profile)},this.urlPrefix=function(){return"https:"==location.protocol?"https:":"http:"},this.getPreviewModeHost=function(){if(this.isPreview()){var a=this.getPageHostName();if("dev-www.adsnative.com"==a)return"http://dev-api.adsnative.com";if("stage.adsnative.com"==a)return this.urlPrefix()+"//stage-api.adsnative.com";if("demo2.adsnative.com"==a)return this.urlPrefix()+"//demo-api2.adsnative.com";if("demo.adsnative.com"==a)return this.urlPrefix()+"//demo-api.adsnative.com";if("console.adsnative.com"==a||"adsnative.com"==a)return this.urlPrefix()+"//api.adsnative.com"}else{var b=this.getURLParams();if(b.hasOwnProperty("server")){if("prod"==b.server)return this.urlPrefix()+"//api.adsnative.com";if("stage"==b.server)return this.urlPrefix()+"//stage-api.adsnative.com";if("demo"==b.server)return this.urlPrefix()+"//demo-api.adsnative.com";if("local"==b.server)return"http://dev-api.adsnative.com"}}return this.urlPrefix()+"//api.adsnative.com"},this.getURLParams=function(){if(b)return b;var a,c,d=/\+/g,e=/([^&=]+)=?([^&]*)/g,f=function(a){return decodeURIComponent(a.replace(d," "))},g=document.referrer;try{c=this.activeWindow().location.search.substring(1)}catch(h){c=window.location.search.substring(1)}for(!c&&g.indexOf("?")>0&&(c=g.substring(g.indexOf("?")+1)),b={};a=e.exec(c);)b[f(a[1])]=f(a[2]);return b},this.encodeQueryData=function(a){var b=[];for(var c in a)b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},this.get_document_keywords=function(a){if(!arguments.length)var a=100;var b="",c=document.getElementsByTagName("meta");if(c)for(var d=0,e=c.length;e>d;d++)"keywords"==c[d].name.toLowerCase()&&(b+=c[d].content);var f=[],g="";if(""!=b){g="[",f=b.split(",");for(var h=0;h<f.length&&a>h;h++)g+='"'+f[h].trim()+'"',h!=f.length-1&&h!=a-1&&(g+=", ");g+="]"}return g},this.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},this.isEmpty=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},this.removeClickEvents=function(a){for(var b=a.getElementsByTagName("a"),c=0;c<b.length;c++)-1===b[c].className.indexOf("adsnative-share-button")&&-1===b[c].className.indexOf("adsnative-cta-button")&&(b[c].onclick=function(){return!1})},this.anyClickTags=function(a){for(var b=a.getElementsByTagName("a"),c=!1,d=0;d<b.length;d++)if(-1===b[d].className.search("adsnative")&&null!=b[d].getAttribute("href")){c=!0;break}return c},this.isScriptInBody=function(){for(var a=document.getElementsByTagName("script"),b=a[a.length-1],c=b;c;c=c.parentNode){if("BODY"==c.tagName)return!0;if("HEAD"==c.tagName)return!1}return!1},this.activeFrameWindow=function(){if(e)return e;e=window;try{(this.getWindowSize("Width",window)<=1||this.getWindowSize("Height",window)<=1)&&(e=this.activeWindow())}catch(a){e=this.activeWindow()}return e},this.activeFrameDocument=function(){if(f)return f;f=window.document;try{(this.getWindowSize("Width",window)<=1||this.getWindowSize("Height",window)<=1)&&(f=this.activeWindowDocument())}catch(a){f=this.activeWindowDocument()}return f},this.checkCSSPath=function(a){for(var b=this.activeFrameDocument(),c={status:!1},d=b,e=a.trim().split(">"),f=0,g="before",h=0;h<e.length;h++){var i=e[h].trim(),j=!1;if("#"==i[0]){var k=i.split(":");if(d=b.getElementById(k[0].slice(1)),k.length>1&&(g=k[1]),!d)return!1}else{var k=i.split(":");if(!(k.length>1))return!1;var l=/eq\((\d+)\)/g.exec(k[1].trim());l&&l.length>1&&(f=parseInt(l[1])),k.length>2&&(g=k[2]),k=k[0].split(".");var m=k[0],n=null,o=0,p=d.childNodes;k.length>1&&(n=k[1]),m&&(p=d.getElementsByTagName(m)),n&&"getElementsByClassName"in document&&(p=d.getElementsByClassName(n));for(var q=0;q<p.length;q++)if(1==p[q].nodeType&&(!n||(" "+p[q].className+" ").indexOf(" "+n+" ")>-1)){if(o==f){d=p[q],j=!0;break}o++}if(0==j)return!1}}return c.status=!0,c.currentElement=d,c.position=g,c},this.dropTags=function(a,b,c,d){function e(a){for(var b=0;b<a.childNodes.length;b++)if("SCRIPT"==a.childNodes[b].tagName){var d=a.childNodes[b];a.removeChild(a.childNodes[b]),f(a,d,c)}else a.childNodes[b].childNodes.length&&e(a.childNodes[b])}function f(a,b){var e=!1,f=document.createElement("script");if(f.type=b.type,b.src&&(f.src=b.src,"undefined"==typeof window.an_doc_write_scripts&&(window.an_doc_write_scripts=[],window.an_doc_write_referenceElement=[]),window.an_doc_write_scripts.push(f.src),window.an_doc_write_referenceElement.push(a)),f.async="true",b.innerHTML&&(f.innerHTML=b.innerHTML),"undefined"!=typeof d&&d)for(var g in d)d.hasOwnProperty(g)&&f.setAttribute(g,d[g]);"undefined"!=typeof c&&(b.innerHTML&&!b.src||(f.onload=f.onreadystatechange=function(){try{e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,c(),f.onload=f.onreadystatechange=null)}catch(a){console.log(a)}}));for(var h=0;h<b.attributes.length;h++)!b.attributes[h].value||b.attributes[h].value in{"null":"","false":"",0:""}||"src"==b.attributes[h].name||f.setAttribute(b.attributes[h].name,b.attributes[h].value);a.appendChild(f)}var g=document.createElement("div");g.innerHTML=b;for(var h=g.childNodes,i=0,j=0;h.length&&j<h.length;i++){var k=h[j];"IMG"==k.tagName?(k.style.cssText="margin:0;padding:0;height:1px;width:1px;border:none;float:left;display:none;",a.appendChild(k)):"SCRIPT"==k.tagName?(f(a,k),j++):"IFRAME"==k.tagName?(arguments.length>2&&(k.onload=c),a.appendChild(k)):(a.appendChild(k),e(k))}},this.indexOf=function(a){var b;return b="function"==typeof Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b=-1,c=-1;for(b=0;b<this.length;b++)if(this[b]===a){c=b;break}return c},b.call(this,a)},this.getWindowSize=function(a,b){var c,d=a.toLowerCase(),e=b||this.activeWindow(),f=e.document,g=f.documentElement;if(void 0===e["inner"+a])c=g["client"+a];else if(e["inner"+a]!=g["client"+a])try{var h=document.createElement("body");h.id="vpw-test-b",h.style.cssText="overflow:scroll";var i=document.createElement("div");i.id="vpw-test-d",i.style.cssText="position:absolute;top:-1000px",i.innerHTML="<style>@media("+d+":"+g["client"+a]+"px){body#vpw-test-b div#vpw-test-d{"+d+":7px!important}}</style>",h.appendChild(i),g.insertBefore(h,document.head),c=7==i["offset"+a]?g["client"+a]:e["inner"+a],g.removeChild(h)}catch(j){c=e["inner"+a]}else c=e["inner"+a];return c},this.isBot=function(){var a=!1;return function(b){/bot|googlebot|crawler|spider|robot|crawling/i.test(b)&&(a=!0)}(navigator.userAgent||navigator.vendor||window.opera),a},this.bindEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},this.broadcastEvent=function(a,b){var c;document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0),c.eventName=b,a.dispatchEvent(c)):(c=document.createEventObject(),c.eventType=b,c.eventName=b,a.fireEvent("on"+c.eventType,c))},this.sendPostMessage=function(a,b,c){a&&a.contentWindow.postMessage(c,b)}},e=new function(){this.postRequest=function(a,b,c,d){var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e.onreadystatechange=function(){4==e.readyState&&(200==e.status?arguments.length>2&&c(e.responseText):arguments.length>3&&d())},e.open("POST",a,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(b)},this.getJSONP=function(a,b,c){var d;d=arguments.length>2?c:Math.floor(1e9*Math.random()+1e4),window["an_callback_"+d]=function(a){b(a)};var e=document.createElement("script");e.src=a+"&callback=an_callback_"+d,document.getElementsByTagName("head")[0].appendChild(e)}},f=new function(){"use strict";var a={};this.pushPlacementConfig=function(b){a.hasOwnProperty(b.apiKey)||(a[b.apiKey]=[]),a[b.apiKey].push(b)},this.popPlacementConfig=function(b){return a.hasOwnProperty(b)?a[b].pop():null}},g=(new function(){function a(a,b,f,g,h){d=document.createElement("iframe"),d.width=b,d.height=f,d.setAttribute("src",a.embedUrl),d.style.margin="20px auto 10px",d.style.border="none",d.className="adsnative-video-embed",e=document.createElement("div"),e.innerHTML=a.summary,"story"==a.type&&(e.innerHTML=e.innerHTML+'&#32;<a href="'+a.url+'" class="adsnative-read-more" '+("_blank"==a.target?'target="_blank"':"")+">Read more</a>"),e.className="adsnative-video-summary",e.style.cssText="line-height:120%; font-size:14px; margin:10px auto 20px;","video"==a.type&&g.appendChild(d),g.appendChild(e),c=h+d.offsetHeight+e.offsetHeight,e.style.display="none",d.style.display="none"}function b(){f?(d.style.display="none",e.style.display="none"):(d.style.display="block",e.style.display="block")}var c,d,e,f=!1;this.expandStoryElement=function(d,e,g){c||a(d,e.clientWidth,180,e,g),f&&b();var h=c,i=g,j=300,k=(new Date).getTime(),l=parseInt(e.clientHeight),m=f?i:h,n=m-l;e.style.height=m;var o=setInterval(function(){var a=(new Date).getTime()-k;if(j>=a){var c=l+Math.floor(n*a/j);e.style.height=c+"px"}else clearInterval(o),e.style.height=m+"px",f||b(),f=!f},1)}},new function(){function a(){if(this.overlay)this.overlay.style.display="block";else{var a=d.activeWindow();this.overlay=a.document.createElement("div"),this.overlay.style.cssText="position:fixed;z-index:999999;width:100%;height:100%;text-align:center;top:0;left:0;background:rgba(0,0,0,0.7);",this.overlay.id="an-lightbox-overlay";this.overlay.onclick=function(){return f(),!1},a.document.getElementsByTagName("body")[0].appendChild(this.overlay)}}function b(){this.overlay.style.display="none"}function c(b){a();var c,e,j=d.activeWindow();i>h?(c=Math.floor(.8*h),e=Math.floor(3*c/4)):(e=Math.floor(.8*i),c=Math.floor(4*e/3)),this.lightbox_elem||(this.lightbox_elem=j.document.createElement("div"),this.lightbox_elem.style.cssText="background-color:#FFF;position:fixed;z-index:9999999;box-shadow:0px 0px 30px rgba(0,0,0,0.8);",this.lightbox_elem.style.width=c+"px",this.lightbox_elem.style.height=e-50+"px",this.lightbox_elem.style.left=Math.floor((h-c)/2)+"px",this.lightbox_elem.style.top=Math.floor((i-e)/2)+"px",this.lightbox_elem.id="an-lightbox");var k;k='<style>#an-lightbox-header a:hover h2 { color:#4775FF; }</style><div id="an-lightbox-header" style="text-align:center;margin:10px;"><a href="'+g.ad.url+'" target="_blank" style="text-decoration:none;color:#000000;"><h2 style="font-size: 20px; font-family:Georgia,sans-serif; padding: 0;margin: 10px;">'+g.ad.title+'</h2></a><span style="font-size: 15px;color: #666;">'+g.ad.promotedByTag+" "+g.ad.promotedBy+"</span></div>",this.lightbox_elem.innerHTML=k+b,j.document.getElementsByTagName("body")[0].appendChild(this.lightbox_elem),this.close_button=j.document.createElement("div"),this.close_button.style.cssText="width:32px;height:32px;cursor:pointer;position:fixed;z-index:99999999;background:url(http://static.adsnative.com/static/img/nativead/close3.png) 0px 0px no-repeat;display: inline-block;",this.close_button.style.marginLeft="-16px",this.close_button.style.top=Math.floor((i-e)/2)-16+"px",this.close_button.onclick=function(){return f(),!1},this.lightbox_elem.appendChild(this.close_button),this.lightbox_elem.style.display="block"}function e(){this.lightbox_elem.style.display="none",this.lightbox_elem.innerHTML=""}function f(){b(),e()}this.overlay=null,this.lightbox_elem=null;var g=this;this.ad=null;var h=(d.activeWindow(),d.getWindowSize("Width")),i=d.getWindowSize("Height");this.open=function(a,b){b=Boolean(b),g.ad=a,c('<iframe id="an-lightbox-player-iframe" src="'+a.embedUrl+"&auto_play="+b+'" style="width:100%;height:100%;overflow:hide;" frameborder="0" allowfullscreen="true" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe')},this.close=function(){f()}}),h=new function(){this.dropCookieMatchingPixel=function(){var a=document.createElement("img");a.src=d.urlPrefix()+"//rudy.adsnative.com/cm.gif",a.style.cssText="height:1px;width:1px;border:none;display:none;",document.getElementsByTagName("body").length?document.getElementsByTagName("body")[0].appendChild(a):$an.fn.ready(function(){document.getElementsByTagName("body")[0].appendChild(a)})}},i=function(b){"use strict";function c(a,b){this.status=!1,this.apiKey=null,this.current_network_index=0,this.placement_finished_processing=!1,this.config=null,this.addVideoDetectiveListner=function(a){var b=function(b){var c=b.message||b.data;if(c.hasOwnProperty("video_detective")&&b.origin==o.apiUrl)try{a.getElementsByTagName("vd_title")[0].outerHTML=c.title,a.getElementsByTagName("vd_summary")[0].outerHTML=c.description}catch(d){}};window.addEventListener?window.addEventListener("message",b,!1):window.attachEvent&&window.attachEvent("onmessage",b)};(function(c){if(c.content=a,"undefined"!=typeof b&&(c.config=b),c.content.hasOwnProperty("zid")?c.apiKey=c.content.zid:o.apiKey&&(c.apiKey=o.apiKey),"OK"==c.content.status&&(c.status=!0),c.effectiveWindow=d.activeFrameWindow(),c.effectiveDocument=d.activeFrameDocument(),c.inview=!1,c.nativeAdElement=null,c.viewTracked=!1,c.filledWithAdsNativeAd=!1,o.inviewEvent&&o.outviewEvent){var e=window.addEventListener?"addEventListener":"attachEvent",f=window[e],g="attachEvent"==e?"onmessage":"message";f(g,function(a){var b=a.message||a.data;b==o.inviewEvent?(c.inview=!0,d.broadcastEvent(document,"adsnative.mrc50.view:in"),c.content.hasOwnProperty("ad")&&c.nativeAdElement&&c.filledWithAdsNativeAd&&(c.nativeAdElement.getElementsByTagName("iframe").length&&(d.sendPostMessage(c.nativeAdElement.getElementsByTagName("iframe")[0],d.urlPrefix()+"//api.adsnative.com","disqus.view:50in"),d.sendPostMessage(c.nativeAdElement.getElementsByTagName("iframe")[0],d.urlPrefix()+"//api.adsnative.com","adsnative.mrc50.view:in")),c.content.ad.hasOwnProperty("viewableTags")&&!c.viewTracked&&(d.dropTags(c.nativeAdElement,c.content.ad.viewableTags),c.viewTracked=!0))):b==o.outviewEvent&&(c.inview=!1,d.broadcastEvent(document,"adsnative.mrc50.view:out"),c.content.hasOwnProperty("ad")&&c.nativeAdElement&&c.filledWithAdsNativeAd&&c.nativeAdElement.getElementsByTagName("iframe").length&&(d.sendPostMessage(c.nativeAdElement.getElementsByTagName("iframe")[0],d.urlPrefix()+"//api.adsnative.com","disqus.view:50out"),d.sendPostMessage(c.nativeAdElement.getElementsByTagName("iframe")[0],d.urlPrefix()+"//api.adsnative.com","adsnative.mrc50.view:out")))})}})(this)}function h(){var a=document.getElementsByTagName("script"),b=a[a.length-1],c=document.createElement("div"),d="adsnative-dummy-";return o.apiKey?d+=o.apiKey:o.widgetId&&(d+=o.widgetId),c.id=d,b.parentNode.insertBefore(c,b.nextSibling),d}function i(a,b){if(d.getPageHostName(o.currentPageUrl)){var c=o.domainLookupUrl+o.domainLookupEndpoint+d.getPageHostName(o.currentPageUrl)+"/?";if(a&&("string"==typeof a||a instanceof String))var f="lookup_"+a.positiveIntegerHash();else var f="lookup";r.log("console","Loading host file from: "+c+"callback="+f),e.getJSONP(c,b,f)}else b([])}function j(a,b,c,e,f){var g;g=arguments.length>3&&e?function(a){s.end("GET AD DATA");try{e&&e(a)}catch(b){r.log("error","name: "+b.name+" message: "+b.message,b)}}:function(a){s.end("GET AD DATA"),m(a)};var h=function(a){s.start("DOMAIN LOOKUP CHECK");for(var b=[],c=0;c<a.length;c++)d.checkCSSPath(a[c].cssPath)&&b.push(a[c].zid);return r.log("console","CSS path found: "),r.log("console",b),b},j=function(b,c){var e=[];if(b||!d.getPageHostName(o.currentPageUrl))n([b],c);else if(a.widgetId&&a.networkKey){for(var e=[],f=0;f<c.length;f++)if(c[f].hasOwnProperty("widgetId")&&c[f].widgetId==a.widgetId&&c[f].hasOwnProperty("networkKey")&&c[f].networkKey==a.networkKey){e.push(c[f].zid);break}n(e,c,!0)}else p.isScriptInBody?n(h(c),c):(s.start("SCRIPT IN BODY WAIT"),$an.fn.ready(function(){s.end("SCRIPT IN BODY WAIT"),n(h(c),c)}))},n=function(a,d,e){a.length?(k(a,d),arguments.length>2&&e?l(null,b,c,g,f):l(a,b,c,g,f)):arguments.length>2&&e?(r.log("console","Placements not found in criteo lookup. Fetching ad directly"),l(null,b,c,g,f)):r.log("console","No valid placements found for this domain")};s.start("HOST FILE FETCH"),a.widgetId&&a.networkKey&&q.criteoExceptions.indexOf(a.networkKey)>-1?l(null,b,c,g,f):i(a.apiKey,function(b){s.end("HOST FILE FETCH"),b&&b.length||r.log("console","No active placements in host file"),r.log("console","Domain placements: "),r.log("console",b),j(a.apiKey,b)})}function k(a,b){window.clientSideData=window.clientSideData||{};for(var c=function(a,b){s.start("PRELOAD CLIENT-SIDE AD DATA: "+a),e.getJSONP(b,function(b){s.end("PRELOAD CLIENT-SIDE AD DATA: "+a),window.clientSideData[a]=b})},d=0;d<b.length;d++)a.indexOf(b[d].zid)>-1&&b[d].clientUrl?c(b[d].zid,b[d].clientUrl):window.clientSideData[b[d].zid]={}}function l(a,b,c,f,g){function h(a){for(var b in a){var c=a[b].split(",");b=0===b.indexOf("ck_")?b:"ck_"+b;for(var d=0;d<c.length;d++)k.push(b+"="+c[d].trim())}}var i,j={force_mobile:o.forceMobile?1:0},k=[],l="";if(a)for(i=a.length;i--;)k.push("zid="+a[i]);else if(j.widget_id=o.widgetId,j.network_key=o.networkKey,o.safetyLevel&&(j.safety_level=o.safetyLevel),j.url=o.currentPageUrl,o.categories)for(var m=0;m<o.categories.length;m++)k.push("cat="+o.categories[m]);if(o.templateKey&&(j.template_key=o.templateKey),arguments.length>4&&"undefined"!=typeof g&&g&&h(g),o.keyValues&&h(o.keyValues),l=k.join("&"),c&&(j.kw=c),b>0&&(j.num_ads=b),!j.hasOwnProperty("url")||!j.url)try{window.top.document&&window.top!=window.self&&"undefined"!=typeof window.top.location.href&&window.top.location.href?(j.url=window.top.location.href,j.ref=window.top.document.referrer):(j.url=window.location.href,j.ref=document.referrer)}catch(n){j.url=window.location.href,j.ref=document.referrer}p.isPreviewMode&&(p.forceCampaignID&&(j.preview=1,j.cid=p.forceCampaignID),p.forceCreativeID&&(j.crid=p.forceCreativeID),p.forceBidUrl&&(j.mock_bid_urls=p.forceBidUrl,j.mock_api_version=p.forceBidVersion?p.forceBidVersion:"v23"));var q=o.apiUrl+o.apiEndpoint+"?"+l+"&"+d.encodeQueryData(j);r.log("console","Loading ad data from: "+q),s.start("GET AD DATA"),e.getJSONP(q,f)}function m(a){p.apiData=a,n(a)}function n(a){if(s.start("TOTAL RENDER"),a instanceof Array)for(var b=0;b<a.length;b++){var d=null;a[b].hasOwnProperty("zid")&&(d=f.popPlacementConfig(a[b].zid));var e=new c(a[b],d);e.processPlacement()}else{var d=null;a.hasOwnProperty("zid")&&(d=f.popPlacementConfig(a.zid));var e=new c(a,d);e.processPlacement()}s.end("TOTAL RENDER"),s.end("TOTAL CLIENT"),s.timeSincePageStart("TOTAL OVERALL")}var o={version:"1.0",subversion:"1.477",apiUrl:d.urlPrefix()+"//api.adsnative.com",apiEndpoint:"/v1/ad-template.json",domainLookupUrl:d.urlPrefix()+"//api-cache.adsnative.com",domainLookupEndpoint:"/v1/host/",staticUrl:d.urlPrefix()+"//static.adsnative.com/static/",preview:!1,onready:null,blockAdLoad:!1,blockAdDisplay:!1,forceMobile:!1,currentPageUrl:null,apiKey:"",userCallbackOnAdLoad:null,processNativeAdElement:null,numAds:0,callbackOnNoAds:null,nativeAdElementId:null,cssPath:null,keywords:null,keyValues:null,autoPosition:!1,templateKey:null,inviewEvent:null,outviewEvent:null,onClick:null,networkKey:null,categories:null,widgetId:null,safetyLevel:null},p={isScriptInBody:!1,isPreviewMode:!1,isProfilingMode:!1,forceCampaignID:null,forceCreativeID:null,forceBidUrl:null,apiData:null,adUnits:{}},q={whitelistedNetworks:["ntent_feed","aol_feed","ebay_feed","gravity_feed","inmobi_feed","kixer_feed","triple_lift","federated_media","kixer","saymedia","contentad","connatix","outbrain","sharethrough","taboola","nativo","other","admarketplace_feed","medianet","dianomi","criteo_feed","criteo_secondary","openx","mobilemajority","nativeads","urx","rubiconproject","answermedia","distroscale","motiveinteractive","aol_marketplace","virool"],standardIntegrations:["openx","mobilemajority","nativeads","kixer","urx","rubiconproject","answermedia","distroscale","motiveinteractive","aol_marketplace","zergnet","taboola","virool","criteo_secondary","google_dfp","optimatic","allscreen","genesis"],feedsArray:["ntent_feed","inmobi_feed","aol_feed","ebay_feed","gravity_feed","kixer_feed","admarketplace_feed","criteo_feed"],criteoExceptions:["7d73dc363b2b42598976e36cf5d52888"]},r=new function(){function a(a,b,c){var d=o.apiUrl+"/v1/log/error/?",f="level="+c+"&message_type="+encodeURIComponent(a)+"&data="+encodeURIComponent(b);e.postRequest(d,f)}this.log=function(b,c,e){if(p.isPreviewMode&&("string"==typeof c||c instanceof String?console.log("[AN] "+c):console.log(c),arguments.length>2&&console.log(e)),"error"==b){var f=(o.apiKey?o.apiKey:d.getPageHostName(),{settings:o,session:p,pageURL:d.activeWindow().location.href,userAgent:navigator.userAgent});if(arguments.length>2&&(f.error=e),"name: TypeError message: null is not an object (evaluating 'this.referenceElement.parentNode')"==c||"name: TypeError message: 'null' is not an object (evaluating 'this.referenceElement.parentNode')"==c||"name: TypeError message: Cannot read property 'parentNode' of null"==c)return;a(c,JSON.stringify(f),b)}}},s=new function(){this.timeSincePageStart=function(a){if(p.isProfilingMode)try{console.debug("[AN] "+a+": "+(Date.now()-d.activeWindow().performance.timing.navigationStart)+"ms")}catch(b){}},this.start=function(a){p.isProfilingMode&&console.time("[AN] "+a)},this.end=function(a){p.isProfilingMode&&console.timeEnd("[AN] "+a)}};(function(){o=d.extend(o,b),p.isScriptInBody=d.isScriptInBody(),p.isPreviewMode=d.isPreviewMode()||o.preview,p.isProfilingMode=d.isProfilingMode(),p.previewModeHost=d.getPreviewModeHost(),p.urlParams=d.getURLParams(),s.timeSincePageStart("TIME SINCE PAGE START"),s.start("TOTAL CLIENT"),p.isPreviewMode&&(p.previewModeHost?(o.apiUrl=p.previewModeHost,o.domainLookupUrl=p.previewModeHost):p.previewModeHost=o.apiUrl,p.urlParams.hasOwnProperty("zid")&&(o.apiKey=p.urlParams.zid),p.urlParams.hasOwnProperty("force_mobile")&&(o.forceMobile=Boolean(p.urlParams.force_mobile)),p.urlParams.hasOwnProperty("cid")&&(p.forceCampaignID=p.urlParams.cid),p.urlParams.hasOwnProperty("crid")&&(p.forceCreativeID=p.urlParams.crid),p.urlParams.hasOwnProperty("bid_url")&&(p.forceBidUrl=p.urlParams.bid_url),p.urlParams.hasOwnProperty("bid_version")&&(p.forceBidVersion=p.urlParams.bid_version)),o.currentPageUrl&&(o.currentPageUrl=decodeURIComponent(o.currentPageUrl))})();c.prototype.applyCommonStyle=function(a){var b=document.createElement("style");b.setAttribute("type","text/css");var c='div.adsnative-labels { } div.adsnative-powered-by { margin-right:5px !important; font-size: 11px; color: #777; float: right; text-align: right; margin-right: 0px; }div.adsnative-powered-by a { text-decoration: none; color: #333; font-size:14px;  font-family: "BenchNine", sans-serif; }div.adsnative-powered-by a:hover { color: #cc0033; }.adsnative-sponsored-label { font-size:12px; color: #999; margin-bottom:5px; }.adsnative-share-buttons { float: left; margin-left:8px; margin-bottom:5px; }.adsnative-share-button { text-decoration:none; display:block; height:24px; float:left; margin-right:10px; padding-left:25px; line-height:21px; font-size:14px; font-family:"Helvetica Neue", Helvetica, Arial, sans-serif;  }.adsnative-fb-share { background:url('+o.staticUrl+"img/facebook.png) no-repeat; color:#3a5899; }.adsnative-tw-share { background:url("+o.staticUrl+"img/twitter.png) no-repeat; color:#40aceb; }.adsnative-cta-button { display:block; float:left; width:100%; margin:8px 0px auto; border-radius: 0px; background:-webkit-gradient( linear, left top, left bottom, color-stop(5%, #ededed), color-stop(100%, #dfdfdf) ); border:1px solid #DDD; padding:8px 0; font-size:14px; font-family:Helvetica, Arial, sans-serif; text-decoration:none; text-align:center; text-shadow:none; color:#004276; text-shadow:0 1px 0 rgba(255,255,255, 1); }div.adsnative-reset { clear: both; }";c+='[class^="adsnative-icon-"], [class*=" adsnative-icon-"] { display:none; }';var d=document;if(o.autoPosition&&(d=this.effectiveDocument),d.getElementsByTagName("head")[0].appendChild(b),Object.prototype.hasOwnProperty.call(b,"styleSheet"))b.styleSheet.cssText=c+a;else try{b.innerHTML=c+a}catch(e){
try{b.textContent=c+a}catch(e){b.innerText=c+a}}},c.prototype.outputAd=function(b,c){var e=this.referenceElement;arguments.length>1&&(e=c);var f=document.createElement("div");f.innerHTML=b.html;var g;if(f.childNodes.length>1?(g=f,b.backgroundColor&&(g.style.backgroundColor=b.backgroundColor),e.parentNode.insertBefore(g,e)):(g=f.firstChild,b.backgroundColor&&(g.style.backgroundColor=b.backgroundColor),e.parentNode.insertBefore(g,e)),b.hasOwnProperty("trackingTags")&&d.dropTags(g,b.trackingTags),this.config&&this.config.hasOwnProperty("impressionTags")&&d.dropTags(g,this.config.impressionTags),o.processNativeAdElement&&o.processNativeAdElement(g),this.ctaButton=document.createElement("div"),this.ctaButton.innerHTML='<a href="'+b.ctaUrl+'" class="adsnative-cta-button" target="_blank">'+b.ctaTitle+"</a>",this.shareButtons=document.createElement("div"),this.shareButtons.innerHTML='<a href="https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(b.url)+'" class="adsnative-fb-share adsnative-share-button" target="_blank">Share</a><a href="https://twitter.com/intent/tweet/?text='+encodeURIComponent(b.title)+"&url="+b.url+'" class="adsnative-tw-share adsnative-share-button" target="_blank">Tweet</a><div class="adsnative-reset"></div>',this.shareButtons.style.cssText="display:block;margin-top:10px;",this.shareButtons.className="adsnative-share-buttons",b.hasOwnProperty("privacy")){var h=document.createElement("div");h.style.cssText="position: absolute;top: 0px;right: 0px;z-index:9999999;",h.innerHTML='<a href="'+b.privacy.optOutClickUrl+'" target="_blank"><img class="adsnative-privacy-button" src="'+b.privacy.optOutImageUrl+'"></a>',g.style.position="relative",g.appendChild(h)}var i=document.createElement("div");i.className="adsnative-reset";var j=document.createElement("div");j.style.cssText="",b.ctaUrl&&b.ctaTitle&&""!=b.ctaTitle?g.appendChild(this.ctaButton):j.appendChild(this.shareButtons),j.appendChild(i),j.className="adsnative-labels";try{this.origClientHeight=window.getComputedStyle(g).getPropertyValue("height")?parseInt(window.getComputedStyle(g).getPropertyValue("height").slice(0,-2)):g.clientHeight}catch(k){origClientHeight=g.getBoundingClientRect().bottom-g.getBoundingClientRect().top}this.setupClick(b,g,this.apiKey);var l=this;if(b.hasOwnProperty("viewableTags")&&(!o.inviewEvent||!o.outviewEvent)){var m=new a;m.checkViewability(g,function(){d.dropTags(g,b.viewableTags),r.log("console",l.apiKey+": Viewable!"),l.config&&l.config.hasOwnProperty("viewabilityTags")&&d.dropTags(g,l.config.viewabilityTags)},function(a){l.nativeAdElement.getElementsByTagName("iframe").length&&(a?d.sendPostMessage(l.nativeAdElement.getElementsByTagName("iframe")[0],d.getPreviewModeHost(),"adsnative.mrc50.view:in"):d.sendPostMessage(l.nativeAdElement.getElementsByTagName("iframe")[0],d.getPreviewModeHost(),"adsnative.mrc50.view:out"))},this.effectiveWindow)}this.nativeAdElement=g,this.addVideoDetectiveListner(g)},c.prototype.setupClick=function(a,b,c){var d=this.origClientHeight,e=this;b.onclick=function(f){return f.target.className.indexOf("adsnative-privacy-button")>-1?!0:-1===f.target.className.indexOf("adsnative-share-button")&&-1===f.target.className.indexOf("adsnative-cta-button")&&-1===f.target.className.indexOf("adsnative-read-more")?e.onUserClick(a,b,d,c):void 0},b.style.cursor="pointer"},c.prototype.onUserClick=function(a,b,c,e){var f=!0;if("video"!=a.type||a.inlineVideo)if(a.url){if("undefined"!=typeof a.clickCallback){var h=a.clickCallback["function"],i=a.clickCallback.args;"function"==typeof window[h]&&window[h].apply(this,i)}var j=d.activeWindow(),k=null;"_blank"==a.target?(k=j.open(a.url,"_blank"),k?(k.focus(),f=!1):f=!0):(j.location.href=a.url,k=!0,f=!1),d.isBot()||this.config&&this.config.hasOwnProperty("clickTags")&&d.dropTags(b,this.config.clickTags)}else a.url||(f=!1);else"autoplay_lightbox"==a.videoExperience&&(g.open(a,!0),f=!1);try{this.config&&this.config.hasOwnProperty("onClick")?this.config.onClick():o.onClick&&o.onClick()}catch(l){}return f},c.prototype.outputHTML=function(a){var b=this.effectiveDocument.createElement("div");b.innerHTML=a;for(var c=0;c<b.childNodes.length;c++){var d=b.childNodes[c];this.referenceElement.parentNode.insertBefore(d,this.referenceElement)}},c.prototype.renderNativePlacement=function(){if(this.content.hasOwnProperty("ads")&&!d.isEmpty(this.content.ads)){this.applyCommonStyle(this.content.ads[0].ad.style);var a=this.content.htmlWrapperTop+"<div id='wrapper-"+this.apiKey+"'></div>"+this.content.htmlWrapperBottom;this.outputHTML(a);for(var b=d.activeFrameDocument().getElementById("wrapper-"+this.apiKey),c=0;c<this.content.ads.length;c++)this.outputAd(this.content.ads[c].ad,b);b.parentNode.removeChild(b)}else this.content.hasOwnProperty("ad")&&Object.getOwnPropertyNames(this.content.ad).length&&(this.applyCommonStyle(this.content.ad.style),this.outputAd(this.content.ad));this.filledWithAdsNativeAd=!0,this.finish()},c.prototype.renderNetworkAd=function(a){var b=this,c=!1,e=!1,f=!1,g=!1,h=!1;this.thirdPartyElement=document.createElement("div"),this.referenceElement.parentNode.insertBefore(this.thirdPartyElement,this.referenceElement),this.nativeAdElement=this.thirdPartyElement;var i='<img src="'+a.trackingUrls.requests[0]+'" height="1" width="1" style="margin:0;padding:0;height:1px;width:1px;border:none;display:none;"/>';if(d.dropTags(this.thirdPartyElement,i),window._an_adFill=function(c){d.indexOf.call(q.standardIntegrations,c)>-1&&c==a.providerName&&(j=!0,b.networkAdFillListerner(c))},window._an_adNoFill=function(c){d.indexOf.call(q.standardIntegrations,c)>-1&&c==a.providerName&&(j=!0,b.fallbackNetwork(c))},d.indexOf.call(q.standardIntegrations,a.providerName)>-1){var j=!1,k=a.providerData&&a.providerData.timeout?a.providerData.timeout:1e3;setTimeout(function(){j||b.networkTimedout()},k)}var l=null;if("connatix"==a.providerName&&(a.headerTags&&(a.html=a.headerTags,a.headerTags=""),d.bindEvent(window,"connatix_no_content",function(){b.fallbackNetwork("connatix")}),d.bindEvent(window,"connatix_content_fill",function(){b.networkAdFillListerner("connatix")}),l={"data-connatix-event":"connatix_content_fill"}),q.feedsArray.indexOf(a.providerName)>-1){var m={};a.hasOwnProperty("customFields")&&!d.isEmpty(a.customFields)&&(m=a.customFields),this.fetchNetworkCreative(a.sid,a.providerName,m)}else d.dropTags(this.thirdPartyElement,a.html,function(){"medianet"==a.providerName||"dianomi"==a.providerName?b.networkAdFillListerner(a.providerName):"kixer"==a.providerName?"function"==typeof __kx_ad_start&&(__kx_ad_start(),b.networkAdFillListerner("kixer")):"triple_lift"==a.providerName?(window._an_noTripleLiftAdFill=function(){c=!0,b.fallbackNetwork("triple_lift")},setTimeout(function(){c||b.networkAdFillListerner("triple_lift")},2e3)):"federated_media"==a.providerName?setTimeout(function(){e||b.networkAdFillListerner("federated_media")},2e3):"saymedia"==a.providerName?setTimeout(function(){g||b.networkAdFillListerner("saymedia")},2e3):"contentad"==a.providerName&&b.networkAdFillListerner("contentad")},l);if("saymedia"==a.providerName&&(window._an_noSayMediaAdFill=function(){b.fallbackNetwork("saymedia"),g=!0}),"federated_media"==a.providerName&&(window._an_noFMAdFill=function(){b.fallbackNetwork("federated_media"),e=!0}),"other"==a.providerName&&b.networkAdFillListerner("other"),"sharethrough"==a.providerName){var n=function(a){var c=a.message||a.data;if("http://btlr.sharethrough.com"==a.origin&&c){var d=window.JSON&&window.JSON.parse?window.JSON.parse(c.trim()):new Function("return "+c.trim())();d.response.creatives.length?(b.networkAdFillListerner("sharethrough"),f=!0):b.fallbackNetwork("sharethrough")}};window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent&&window.attachEvent("onmessage",n)}a.hasOwnProperty("headerTags")&&a.headerTags&&d.dropTags(document.getElementsByTagName("head")[0],a.headerTags,function(){if("outbrain"==a.providerName||"taboola"==a.providerName)b.networkAdFillListerner(a.providerName);else if("nativo"==a.providerName){var c=_pr.prototype.Render_TemplateAd;b.an_nativo_fill=!1,_pr.prototype.Render_TemplateAd=function(a){h||b.placement_finished_processing||(b.an_nativo_fill=!0,b.networkAdFillListerner("nativo"),c(a))};var d=_pr.prototype.PushAd;_pr.prototype.PushAd=function(a){h||b.placement_finished_processing||(b.an_nativo_fill=!0,b.networkAdFillListerner("nativo"),d.call(PostRelease,a))},setTimeout(function(){b.an_nativo_fill||b.placement_finished_processing||(h=!0,b.networkTimedout("nativo"))},800)}},l),a.hasOwnProperty("footerTags")&&a.footerTags&&d.dropTags(document.getElementsByTagName("body")[0],a.footerTags)},c.prototype.fallbackNetwork=function(a){if(this.content.hasOwnProperty("networks")&&this.content.networks&&this.content.networks.length>this.current_network_index){var b=this.content.networks[this.current_network_index];if(!this.placement_finished_processing&&b.providerName==a){r.log("console","fallback: "+this.current_network_index+" - "+b.providerName+" (zid: "+this.apiKey+")");var c='<img src="'+b.trackingUrls.nofills[0]+'" height="1" width="1" style="margin:0;padding:0;height:1px;width:1px;border:none;display:none;"/>';d.dropTags(this.thirdPartyElement,c),this.content.networks.length>this.current_network_index+1?(this.cleanupNetwork(),this.current_network_index++,this.renderNetworkAd(this.content.networks[this.current_network_index])):!d.isEmpty(this.content.ad)&&this.content.ad.hasOwnProperty("html")?(this.cleanupNetwork(),this.renderNativePlacement()):this.finish(!1)}}},c.prototype.networkAdFillListerner=function(a){if(this.content.hasOwnProperty("networks")&&this.content.networks&&this.content.networks.length>this.current_network_index){var b=this.content.networks[this.current_network_index];this.placement_finished_processing||b.providerName!=a||(r.log("console","filled and done: "+this.current_network_index+" - "+b.providerName+" (zid: "+this.apiKey+")"),b.hasOwnProperty("trackingTags")&&d.dropTags(this.thirdPartyElement,b.trackingTags),this.finish())}},c.prototype.networkTimedout=function(){if(this.content.networks&&this.content.networks.length>this.current_network_index){var a=this.content.networks[this.current_network_index],b='<img src="'+a.trackingUrls.timeout[0]+'" height="1" width="1" style="margin:0;padding:0;height:1px;width:1px;border:none;display:none;"/>';d.dropTags(this.thirdPartyElement,b),d.broadcastEvent(document,a.providerName+"_timeout"),r.log("console","timeout: "+this.current_network_index+" - "+a.providerName+" (zid: "+this.apiKey+")"),this.fallbackNetwork(a.providerName)}},c.prototype.fetchNetworkCreative=function(a,b,c){var f=this,g=function(a){r.log("console",a),a&&"OK"==a.status&&a.ads&&a.ads.length>0?(f.applyCommonStyle(a.ads[0].style),f.outputAd(a.ads[0]),f.finish()):f.fallbackNetwork(b)};if("admarketplace_feed"==b){var h=d.get_document_keywords(4);if(""==h)return void this.fallbackNetwork(b);c.kw=h}var i={sid:a,kw:c.hasOwnProperty("kw")?c.kw:"",pub_id:c.hasOwnProperty("pub_id")?c.pub_id:"",placement_id:c.hasOwnProperty("placement_id")?c.placement_id:"",platform:c.hasOwnProperty("platform")?c.platform:"",device:c.hasOwnProperty("device")?c.device:"",num_ads:c.hasOwnProperty("num_ads")?c.num_ads:1,ip:p.urlParams.hasOwnProperty("ip")?p.urlParams.ip:""};if("criteo_feed"==b){var j=0,k=10,l=40;window.checkClientSideResponse=function(){if(0==j&&s.start("CRITEO EXTRA WAIT TIME"),j++,"undefined"!=typeof window.clientSideData&&f.apiKey in window.clientSideData){s.end("CRITEO EXTRA WAIT TIME");var a=window.clientSideData[f.apiKey];return r.log("console",a),0==a.response_status?(i.provider_data=btoa(JSON.stringify(a)),e.getJSONP(o.apiUrl+"/v1/proxy/"+b+"/?"+d.encodeQueryData(i),g),!0):(r.log("console","Criteo returned 0 ads: using fallback"),f.fallbackNetwork(b),!1)}return j>=l?(s.end("CRITEO EXTRA WAIT TIME"),r.log("console","Criteo failed to respond in time: using fallback"),f.networkTimedout(),!1):void window.setTimeout("window.checkClientSideResponse();",k)},window.checkClientSideResponse()}else e.getJSONP(o.apiUrl+"/v1/proxy/"+b+"/?"+d.encodeQueryData(i),g)},c.prototype.cleanupNetwork=function(){this.thirdPartyElement&&this.thirdPartyElement.parentNode&&this.thirdPartyElement.parentNode.removeChild(this.thirdPartyElement)},c.prototype.finish=function(a){if(0==arguments.length)var a=!0;o.userCallbackOnAdLoad&&o.userCallbackOnAdLoad(a),this.inview&&d.broadcastEvent(document,"adsnative.mrc50.view:in"),r.log("console","Finished: "),this&&this.referenceElement&&this.referenceElement.parentNode?this.referenceElement.parentNode.removeChild(this.referenceElement):r.log("console","No reference element found"),this.placement_finished_processing=!0},c.prototype.getAdObject=function(){var a=null;return this.status&&this.content.hasOwnProperty("ad")&&(a={cid:this.content.cid,crid:this.content.crid,zid:this.content.zid,sid:this.content.ad.sid,type:this.content.ad.type},this.content.ad.hasOwnProperty("trackingUrls")&&this.content.ad.trackingUrls.hasOwnProperty("actions")&&(a.actionTrackingUrls=this.content.ad.trackingUrls.actions),this.content.ad.hasOwnProperty("customFields")&&!d.isEmpty(this.content.ad.customFields)&&(a.customFields=this.content.ad.customFields),this.content.ad.hasOwnProperty("leadGenUrl")&&(a.leadGenUrl=this.content.ad.leadGenUrl)),a},c.prototype.processPlacement=function(){if(r.log("console",this.content),o.userCallbackOnAdLoad&&"OK"!=this.content.status&&o.userCallbackOnAdLoad("OK"==this.content.status,null),this.config&&this.config.hasOwnProperty("callback")&&this.config.callback("OK"==this.content.status,this.getAdObject()),!o.blockAdDisplay){if(!this.status)return o.callbackOnNoAds&&o.callbackOnNoAds(),void(this.content.hasOwnProperty("message")?"no active campaigns found"!=this.content.message&&"ad-unit is not active"!=this.content.message&&r.log("warning",this.content.message):r.log("warning","An unknown error occurred."));if(o.nativeAdElementId){if(this.referenceElement=this.effectiveDocument.getElementById(o.nativeAdElementId),!this.referenceElement)return void r.log("warning","Given nativeAdElementId not found.")}else{if(o.cssPath)return void this.checkCSSPathAndRender(o.cssPath);if(o.autoPosition){var a;return this.content.hasOwnProperty("cssPath")&&this.content.cssPath?(a=this.content.cssPath,void this.checkCSSPathAndRender(a)):void r.log("warning","No CSS path configured for this page.")}if(this.config){if(this.config.hasOwnProperty("nativeAdElementId")&&this.config.nativeAdElementId){if(this.referenceElement=this.effectiveDocument.getElementById(this.config.nativeAdElementId),!this.referenceElement)return void r.log("warning","Given nativeAdElementId not found for apiKey")}else if(this.config.hasOwnProperty("cssPath")&&this.config.cssPath)return void this.checkCSSPathAndRender(this.config.cssPath)}else o.apiKey?this.referenceElement=document.getElementById("adsnative-dummy-"+this.apiKey):this.referenceElement=document.getElementById("adsnative-dummy-"+o.widgetId)}this.startRender()}},c.prototype.checkCSSPathAndRender=function(a){if(p.isScriptInBody){var b=this.insertReferenceElement(a);b?this.startRender():this.waitPositionAdAndRender(a)}else this.waitPositionAdAndRender(a)},c.prototype.waitPositionAdAndRender=function(a){var b=this;s.start("WAIT TO RENDER"),$an.fn.ready(function(){s.end("WAIT TO RENDER"),b.positionAdAndRender(a)})},c.prototype.positionAdAndRender=function(a){var b=this.insertReferenceElement(a),c=this;if(b)this.startRender();else{c.reTryCounter=0;var d=setInterval(function(){b=c.insertReferenceElement(a),b?(clearInterval(d),c.startRender()):(c.reTryCounter++,c.reTryCounter>=20&&(clearInterval(d),r.log("warning","Configured CSS path not found on this page.")))},200)}},c.prototype.startRender=function(){if(this.content.hasOwnProperty("networks")&&this.content.networks.length)this.renderNetworkAd(this.content.networks[0]);else if(this.content.hasOwnProperty("ad")&&this.content.ad.hasOwnProperty("customFields")&&this.content.ad.customFields.hasOwnProperty("network_feed")){var a={};this.content.ad.hasOwnProperty("customFields")&&!d.isEmpty(this.content.ad.customFields)&&(a=this.content.ad.customFields),this.fetchNetworkCreative(this.content.sid,this.content.ad.customFields.network_feed,a)}else this.renderNativePlacement()},c.prototype.insertReferenceElement=function(a){s.start("CSS PATH SEARCH");var b=this.effectiveDocument.createElement("div"),c=d.checkCSSPath(a);return c?("after"==c.position?c.currentElement.parentNode.insertBefore(b,c.currentElement.nextSibling):"append"==c.position?c.currentElement.appendChild(b):c.currentElement.parentNode.insertBefore(b,c.currentElement),this.referenceElement=b,s.end("CSS PATH SEARCH"),!0):!1},window.AdsNative=function(a,b,c){(function(d){d.apiKey=a,"undefined"!==b?d.keywords=b:d.keywords="","undefined"!==c?d.keyValues=c:d.keyValues=null,d.status=!1,d.adRendered=!1})(this)},window.AdsNative.prototype.fetchAd=function(a){var b=this;j({apiKey:this.apiKey},1,o.keywords?o.keywords:this.keywords,function(d){b.callbackData=d,b.placementProcessor=new c(b.callbackData),d.hasOwnProperty("status")&&"OK"==d.status&&(b.status=!0,b.adRendered=!1),a(b.status,b.placementProcessor.getAdObject())},o.keyValues?o.keyValues:this.keyValues)},window.AdsNative.prototype.displayAd=function(a){return this.status?this.adRendered?(r.log("console","Placement "+this.apiKey+" : This ad unit already rendered. A placement can be rendered only once."),!1):(this.elementId=document.getElementById(a),this.elementId?(this.placementProcessor.referenceElement=this.elementId,this.placementProcessor.startRender(),this.adRendered=!0,!0):(r.log("console","Placement "+this.apiKey+" : Element not found"),!1)):(r.log("console","Placement "+this.apiKey+" : No valid campaign returned"),!1)},window.AdsNative.prototype.refresh=function(){var a,b=this;if(this.status&&this.adRendered)a=this.placementProcessor.nativeAdElement;else{if(!this.elementId)return r.log("console","Placement "+this.apiKey+" : The placement was never fetched so cannot be refreshed."),!1;a=this.elementId}return this.fetchAd(function(c){b.placementProcessor.referenceElement=a,b.placementProcessor.startRender()}),!0},this.load=function(){if(r.log("console","RenderJS Loaded!"),o.onready&&o.onready(),!o.blockAdLoad)if(o.hasOwnProperty("adUnits"))for(var a in o.adUnits){var b=o.adUnits[a];if(b.hasOwnProperty("apiKey")&&b.apiKey){f.pushPlacementConfig(b);var c=[],d={},e=1;b.hasOwnProperty("keywords")&&b.keywords&&(c=b.keywords),b.hasOwnProperty("keyValues")&&b.keyValues&&(d=b.keyValues),b.hasOwnProperty("numAds")&&b.numAds&&(e=b.numAds),j({apiKey:b.apiKey},e,c,null,d)}}else!(o.apiKey||o.widgetId&&o.networkKey)||o.nativeAdElementId||o.cssPath||o.autoPosition||h(),j(o,o.numAds,o.keywords)},this.fetchAds=function(a,b,d){o.blockAdDisplay=!0;for(var e=0;e<a.length;e++)j({apiKey:a[e]},1,o.keywords?o.keywords:b,function(a){var b=!1,e=null,f={};a.hasOwnProperty("zid")&&(e=a.zid),a.hasOwnProperty("status")&&"OK"==a.status&&(b=!0,p.adUnits.hasOwnProperty(e)||(p.adUnits[e]=new c(a)),f={type:a.ad.type,url:a.ad.url,embedUrl:a.ad.embedUrl,title:a.ad.title,summary:a.ad.summary,brand_name:a.ad.promotedBy,image:a.ad.imageSrc}),d(b,e,f)})},this.displayAd=function(a,b){var c;if(!p.adUnits.hasOwnProperty(a)||!p.adUnits[a])return void r.log("console","Unable to display placement. Ad response is not available.");c=p.adUnits[a];var d=document.getElementById(b);c.referenceElement=d,c.startRender()},this.renderAd=function(a,b,c,d){var e=this;this.fetchAds([d],b,function(b,d){b&&e.displayAd(d,a),c(b)})},this.getVersion=function(){return o.version}};if("undefined"==typeof j)var j=[],k=[];"undefined"==typeof window._AdsNativeOpts&&"undefined"==typeof window._AdRenderOpts?(window._AdsNativeOpts={autoPosition:!0},c(window._AdsNativeOpts)):"undefined"!=typeof window._AdsNativeOpts?(window._AdsNativeOpts.hasOwnProperty("apiKey")||window._AdsNativeOpts.hasOwnProperty("widgetId")||window._AdsNativeOpts.hasOwnProperty("adUnits")||window._AdsNativeOpts.hasOwnProperty("blockAdLoad")||(window._AdsNativeOpts.autoPosition=!0),c(window._AdsNativeOpts)):"undefined"!=typeof window._AdRenderOpts&&(window._AdRenderOpts.hasOwnProperty("apiKey")||window._AdRenderOpts.hasOwnProperty("widgetId")||window._AdRenderOpts.hasOwnProperty("adUnits")||window._AdRenderOpts.hasOwnProperty("blockAdLoad")||(window._AdRenderOpts.autoPosition=!0),c(window._AdRenderOpts)),"undefined"==typeof window._AdsNative&&(window._AdsNative=new i({blockAdLoad:!0}),window._AdsNative.load()),h.dropCookieMatchingPixel()}();